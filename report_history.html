<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report History - Safety Supervisor</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fsafetysup3087back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
    <!-- Header Section -->
    <header class="bg-surface border-b border-border sticky top-0 z-50">
        <div class="max-w-md mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-text-primary">Report History</h1>
                        <p class="text-xs text-text-secondary">Site Alpha - Zone 1</p>
                    </div>
                </div>
                
                <!-- Notification Bell -->
                <div class="relative">
                    <button class="relative p-2 text-text-secondary hover:text-text-primary transition-colors duration-200 min-touch-target">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <span class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium">3</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-md mx-auto px-4 py-6 pb-24">
        <!-- Filter Section -->
        <section class="mb-6">
            <div class="card p-4">
                <h2 class="text-base font-semibold text-text-primary mb-4">Filter Reports</h2>
                
                <div class="space-y-4">
                    <!-- Status Filter -->
                    <div>
                        <label class="form-label">Status</label>
                        <select title="easy" id="statusFilter" class="form-input">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="in-review">In Review</option>
                            <option value="closed">Closed</option>
                        </select>
                    </div>

                    <!-- Date Range Filter -->
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="form-label">From Date</label>
                            <input title="easy" type="date" id="fromDate" class="form-input" value="2025-10-01">
                        </div>
                        <div>
                            <label class="form-label">To Date</label>
                            <input title="easy" type="date" id="toDate" class="form-input" value="2025-10-21">
                        </div>
                    </div>

                    <!-- Filter Actions -->
                    <div class="flex space-x-3">
                        <button id="applyFilters" class="btn-primary flex-1">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"></path>
                            </svg>
                            Apply Filters
                        </button>
                        <button title="easy" id="resetFilters" class="btn-outline">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Summary -->
        <section class="mb-4">
            <div class="flex items-center justify-between">
                <p class="text-sm text-text-secondary">
                    <span id="resultsCount">47</span> reports found
                </p>
                <div class="flex items-center space-x-2">
                    <label class="text-sm text-text-secondary">Sort by:</label>
                    <select title="easy" id="sortBy" class="text-sm border border-border rounded px-2 py-1 bg-surface">
                        <option value="date-desc">Newest First</option>
                        <option value="date-asc">Oldest First</option>
                        <option value="status">Status</option>
                        <option value="type">Type</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Reports List -->
        <section class="space-y-4" id="reportsList">
            <!-- Report Card 1 -->
            <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer report-card" data-status="pending" data-date="2025-10-21" data-type="near-miss">
                <div class="flex items-start justify-between mb-3">
                    <div>
                        <h3 class="text-sm font-semibold text-text-primary">Report #SR-2025-047</h3>
                        <p class="text-xs text-text-secondary mt-1">Oct 21, 2025 • 10:30 AM</p>
                    </div>
                    <span class="px-2 py-1 bg-warning-50 text-warning-600 text-xs font-medium rounded-full">Pending</span>
                </div>
                
                <div class="flex items-center space-x-4 mb-3">
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-warning-50 rounded-full flex items-center justify-center">
                            <svg class="w-3 h-3 text-warning-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-xs text-text-secondary">Near Miss</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-xs text-text-secondary">Equipment Area B</span>
                    </div>
                </div>
                
                <p class="text-sm text-text-primary mb-3">Slip hazard identified near conveyor belt due to oil spill. Immediate cleanup required.</p>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <img src="https://images.unsplash.com/photo-1688841747582-41097036109d" 
                             alt="Safety supervisor profile photo" 
                             class="w-6 h-6 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <span class="text-xs text-text-secondary">Mike Johnson</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-warning-500 rounded-full"></div>
                        <span class="text-xs text-text-secondary">High Priority</span>
                    </div>
                </div>
            </div>

            <!-- Report Card 2 -->
            <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer report-card" data-status="in-review" data-date="2025-10-20" data-type="unsafe-condition">
                <div class="flex items-start justify-between mb-3">
                    <div>
                        <h3 class="text-sm font-semibold text-text-primary">Report #SR-2025-046</h3>
                        <p class="text-xs text-text-secondary mt-1">Oct 20, 2025 • 2:15 PM</p>
                    </div>
                    <span class="px-2 py-1 bg-secondary-50 text-secondary-600 text-xs font-medium rounded-full">In Review</span>
                </div>
                
                <div class="flex items-center space-x-4 mb-3">
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-accent-50 rounded-full flex items-center justify-center">
                            <svg class="w-3 h-3 text-accent-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-xs text-text-secondary">Unsafe Condition</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-xs text-text-secondary">Loading Dock C</span>
                    </div>
                </div>
                
                <p class="text-sm text-text-primary mb-3">Damaged safety railing on elevated platform requires immediate repair before next shift.</p>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <img src="https://images.unsplash.com/photo-1544781983-b07d14a64835" 
                             alt="Safety inspector profile photo" 
                             class="w-6 h-6 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <span class="text-xs text-text-secondary">David Chen</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-accent-500 rounded-full"></div>
                        <span class="text-xs text-text-secondary">Medium Priority</span>
                    </div>
                </div>
            </div>

            <!-- Report Card 3 -->
            <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer report-card" data-status="closed" data-date="2025-10-19" data-type="accident">
                <div class="flex items-start justify-between mb-3">
                    <div>
                        <h3 class="text-sm font-semibold text-text-primary">Report #SR-2025-045</h3>
                        <p class="text-xs text-text-secondary mt-1">Oct 19, 2025 • 9:45 AM</p>
                    </div>
                    <span class="px-2 py-1 bg-success-50 text-success-600 text-xs font-medium rounded-full">Closed</span>
                </div>
                
                <div class="flex items-center space-x-4 mb-3">
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-error-50 rounded-full flex items-center justify-center">
                            <svg class="w-3 h-3 text-error-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-xs text-text-secondary">Accident</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-xs text-text-secondary">Workshop Area A</span>
                    </div>
                </div>
                
                <p class="text-sm text-text-primary mb-3">Minor cut injury from handling materials. First aid administered, safety protocols reviewed.</p>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <img src="https://images.unsplash.com/photo-1688841747582-41097036109d" 
                             alt="Safety coordinator profile photo" 
                             class="w-6 h-6 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <span class="text-xs text-text-secondary">Sarah Wilson</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-success-500 rounded-full"></div>
                        <span class="text-xs text-text-secondary">Resolved</span>
                    </div>
                </div>
            </div>

            <!-- Report Card 4 -->
            <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer report-card" data-status="closed" data-date="2025-10-18" data-type="near-miss">
                <div class="flex items-start justify-between mb-3">
                    <div>
                        <h3 class="text-sm font-semibold text-text-primary">Report #SR-2025-044</h3>
                        <p class="text-xs text-text-secondary mt-1">Oct 18, 2025 • 3:20 PM</p>
                    </div>
                    <span class="px-2 py-1 bg-success-50 text-success-600 text-xs font-medium rounded-full">Closed</span>
                </div>
                
                <div class="flex items-center space-x-4 mb-3">
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-warning-50 rounded-full flex items-center justify-center">
                            <svg class="w-3 h-3 text-warning-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-xs text-text-secondary">Near Miss</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-xs text-text-secondary">Storage Room D</span>
                    </div>
                </div>
                
                <p class="text-sm text-text-primary mb-3">Overhead crane operation near workers without proper clearance. Safety briefing conducted.</p>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <img src="https://images.unsplash.com/photo-1688841747582-41097036109d" 
                             alt="Safety officer profile photo" 
                             class="w-6 h-6 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <span class="text-xs text-text-secondary">Robert Martinez</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-success-500 rounded-full"></div>
                        <span class="text-xs text-text-secondary">Resolved</span>
                    </div>
                </div>
            </div>

            <!-- Report Card 5 -->
            <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer report-card" data-status="pending" data-date="2025-10-17" data-type="unsafe-condition">
                <div class="flex items-start justify-between mb-3">
                    <div>
                        <h3 class="text-sm font-semibold text-text-primary">Report #SR-2025-043</h3>
                        <p class="text-xs text-text-secondary mt-1">Oct 17, 2025 • 11:10 AM</p>
                    </div>
                    <span class="px-2 py-1 bg-warning-50 text-warning-600 text-xs font-medium rounded-full">Pending</span>
                </div>
                
                <div class="flex items-center space-x-4 mb-3">
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-accent-50 rounded-full flex items-center justify-center">
                            <svg class="w-3 h-3 text-accent-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <span class="text-xs text-text-secondary">Unsafe Condition</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <svg class="w-4 h-4 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-xs text-text-secondary">Parking Area E</span>
                    </div>
                </div>
                
                <p class="text-sm text-text-primary mb-3">Poor lighting conditions in employee parking area creating visibility hazards during night shifts.</p>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <img src="https://images.unsplash.com/photo-1688841747582-41097036109d" 
                             alt="Safety team member profile photo" 
                             class="w-6 h-6 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <span class="text-xs text-text-secondary">Lisa Thompson</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-primary-500 rounded-full"></div>
                        <span class="text-xs text-text-secondary">Low Priority</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Load More Button -->
        <section class="mt-6">
            <button id="loadMoreBtn" class="btn-outline w-full py-3">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                Load More Reports
            </button>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-surface border-t border-border safe-bottom">
        <div class="max-w-md mx-auto px-4">
            <div class="flex items-center justify-around py-2">
                <!-- Dashboard -->
                <a href="safety_dashboard.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="text-xs font-medium">Dashboard</span>
                </a>

                <!-- Report -->
                <a href="incident_report_form.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Report</span>
                </a>

                <!-- History -->
                <a href="report_history.html" class="nav-item active flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                        <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 102 0V3h4v1a1 1 0 102 0V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm8 8a1 1 0 100-2 1 1 0 000 2zm-3-1a1 1 0 11-2 0 1 1 0 012 0zm-1-4a1 1 0 100-2 1 1 0 000 2zm3-1a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="text-xs font-medium">History</span>
                </a>

                <!-- Team -->
                <a href="team_management.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Team</span>
                </a>

                <!-- Help -->
                <a href="help_and_support.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Help</span>
                </a>

                <!-- Profile -->
                <a href="supervisor_profile.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span class="text-xs font-medium">Profile</span>
                </a>
            </div>
        </div>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Filter functionality
            const statusFilter = document.getElementById('statusFilter');
            const fromDate = document.getElementById('fromDate');
            const toDate = document.getElementById('toDate');
            const sortBy = document.getElementById('sortBy');
            const applyFiltersBtn = document.getElementById('applyFilters');
            const resetFiltersBtn = document.getElementById('resetFilters');
            const reportCards = document.querySelectorAll('.report-card');
            const resultsCount = document.getElementById('resultsCount');
            const loadMoreBtn = document.getElementById('loadMoreBtn');

            // Apply filters function
            function applyFilters() {
                const statusValue = statusFilter.value.toLowerCase();
                const fromDateValue = new Date(fromDate.value);
                const toDateValue = new Date(toDate.value);
                let visibleCount = 0;

                reportCards.forEach(card => {
                    const cardStatus = card.dataset.status;
                    const cardDate = new Date(card.dataset.date);
                    
                    let showCard = true;

                    // Status filter
                    if (statusValue && cardStatus !== statusValue) {
                        showCard = false;
                    }

                    // Date range filter
                    if (fromDate.value && cardDate < fromDateValue) {
                        showCard = false;
                    }
                    if (toDate.value && cardDate > toDateValue) {
                        showCard = false;
                    }

                    if (showCard) {
                        card.style.display = 'block';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                resultsCount.textContent = visibleCount;
            }

            // Sort function
            function sortReports() {
                const container = document.getElementById('reportsList');
                const cards = Array.from(reportCards);
                const sortValue = sortBy.value;

                cards.sort((a, b) => {
                    switch (sortValue) {
                        case 'date-desc':
                            return new Date(b.dataset.date) - new Date(a.dataset.date);
                        case 'date-asc':
                            return new Date(a.dataset.date) - new Date(b.dataset.date);
                        case 'status':
                            return a.dataset.status.localeCompare(b.dataset.status);
                        case 'type':
                            return a.dataset.type.localeCompare(b.dataset.type);
                        default:
                            return 0;
                    }
                });

                // Re-append sorted cards
                cards.forEach(card => container.appendChild(card));
            }

            // Reset filters function
            function resetFilters() {
                statusFilter.value = '';
                fromDate.value = '2025-10-01';
                toDate.value = '2025-10-21';
                sortBy.value = 'date-desc';
                
                reportCards.forEach(card => {
                    card.style.display = 'block';
                });
                
                resultsCount.textContent = reportCards.length;
                sortReports();
            }

            // Event listeners
            applyFiltersBtn.addEventListener('click', function() {
                applyFilters();
                sortReports();
            });

            resetFiltersBtn.addEventListener('click', resetFilters);

            sortBy.addEventListener('change', sortReports);

            // Report card click handlers
            reportCards.forEach(card => {
                card.addEventListener('click', function() {
                    const reportId = this.querySelector('h3').textContent;
                    alert(`Opening detailed view for ${reportId}`);
                });
            });

            // Load more functionality
            loadMoreBtn.addEventListener('click', function() {
                this.innerHTML = '<svg class="w-4 h-4 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>Loading...';
                
                setTimeout(() => {
                    this.innerHTML = '<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>Load More Reports';
                    alert('No more reports to load');
                }, 1500);
            });

            // Notification bell functionality
            const notificationBell = document.querySelector('button[class*="relative p-2"]');
            if (notificationBell) {
                notificationBell.addEventListener('click', function() {
                    alert('You have 3 pending notifications:\n• Report #SR-2025-047 requires review\n• Safety training due for Team Beta\n• Equipment inspection overdue');
                });
            }

            // Initialize with default sort
            sortReports();
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>