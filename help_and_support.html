<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help and Support - Safety Supervisor</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fsafetysup3087back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
    <!-- Header Section -->
    <header class="bg-surface border-b border-border sticky top-0 z-50">
        <div class="max-w-md mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-text-primary">Help & Support</h1>
                        <p class="text-xs text-text-secondary">Get assistance and resources</p>
                    </div>
                </div>
                
                <!-- Back Button -->
                <a href="safety_dashboard.html" class="p-2 text-text-secondary hover:text-text-primary transition-colors duration-200 min-touch-target">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-md mx-auto px-4 py-6 pb-24">
        <!-- Contact Safety Officer Section -->
        <section class="mb-8">
            <div class="card p-6">
                <div class="flex items-center space-x-3 mb-4">
                    <div class="w-10 h-10 bg-primary-50 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                    </div>
                    <div>
                        <h2 class="text-lg font-semibold text-text-primary">Contact Safety Officer</h2>
                        <p class="text-sm text-text-secondary">Send a message for assistance</p>
                    </div>
                </div>

                <form id="contactForm" class="space-y-4">
                    <!-- Supervisor Name -->
                    <div>
                        <label for="supervisorName" class="form-label">Your Name</label>
                        <input type="text" id="supervisorName" name="supervisorName" class="form-input" 
                               placeholder="Enter your full name" value="Mike Johnson" required>
                    </div>

                    <!-- Issue Type -->
                    <div>
                        <label for="issueType" class="form-label">Issue Type</label>
                        <select id="issueType" name="issueType" class="form-input" required>
                            <option value="">Select issue type</option>
                            <option value="technical">Technical Support</option>
                            <option value="safety-concern">Safety Concern</option>
                            <option value="training">Training Request</option>
                            <option value="equipment">Equipment Issue</option>
                            <option value="policy">Policy Question</option>
                            <option value="emergency">Emergency Protocol</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <!-- Message -->
                    <div>
                        <label for="message" class="form-label">Message</label>
                        <textarea id="message" name="message" rows="4" class="form-input" 
                                  placeholder="Describe your issue or question in detail..." required></textarea>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn-primary w-full py-3 rounded-lg shadow-card hover:shadow-modal transition-all duration-200">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                        Send Message
                    </button>
                </form>

                <!-- Success Message (Hidden by default) -->
                <div id="successMessage" class="hidden mt-4 p-4 bg-success-50 border border-success-100 rounded-lg">
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-success-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <p class="text-sm font-medium text-success-600">Message sent successfully! You'll receive a response within 24 hours.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Contact Options -->
        <section class="mb-8">
            <h3 class="text-lg font-semibold text-text-primary mb-4">Quick Contact</h3>
            <div class="grid grid-cols-1 gap-3">
                <!-- Call Button -->
                <a href="tel:+1-800-SAFETY-1" class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-success-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-success-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-text-primary">Call Safety Hotline</h4>
                            <p class="text-sm text-text-secondary">24/7 emergency support</p>
                            <p class="text-sm font-medium text-success-600">1-800-SAFETY-1</p>
                        </div>
                        <svg class="w-5 h-5 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </a>

                <!-- Chat Button -->
                <button onclick="startLiveChat()" class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer w-full text-left">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-primary-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-text-primary">Live Chat Support</h4>
                            <p class="text-sm text-text-secondary">Chat with safety experts</p>
                            <p class="text-sm font-medium text-primary">Available 6 AM - 10 PM</p>
                        </div>
                        <svg class="w-5 h-5 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <!-- Email Button -->
                <a href="mailto:safety@company.com" class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-accent-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-text-primary">Email Support</h4>
                            <p class="text-sm text-text-secondary">Send detailed inquiries</p>
                            <p class="text-sm font-medium text-accent">safety@company.com</p>
                        </div>
                        <svg class="w-5 h-5 text-text-tertiary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </a>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="mb-6">
            <h3 class="text-lg font-semibold text-text-primary mb-4">Frequently Asked Questions</h3>
            <div class="space-y-3">
                <!-- FAQ Item 1 -->
                <div class="card">
                    <button class="faq-toggle w-full p-4 text-left flex items-center justify-between hover:bg-surface-secondary transition-colors duration-200" 
                            onclick="toggleFAQ('faq1')">
                        <span class="font-medium text-text-primary">How do I report a safety incident?</span>
                        <svg id="faq1-icon" class="w-5 h-5 text-text-secondary transform transition-transform duration-200" 
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq1-content" class="hidden px-4 pb-4">
                        <p class="text-sm text-text-secondary leading-relaxed">
                            To report a safety incident, navigate to the "Report" tab in the bottom navigation. Fill out the incident form with details including type (Near Miss, Unsafe Condition, or Accident), location, description, and severity level. You can also attach photos if needed. The report will be automatically timestamped and assigned a unique ID for tracking.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="card">
                    <button class="faq-toggle w-full p-4 text-left flex items-center justify-between hover:bg-surface-secondary transition-colors duration-200" 
                            onclick="toggleFAQ('faq2')">
                        <span class="font-medium text-text-primary">What should I do in case of an emergency?</span>
                        <svg id="faq2-icon" class="w-5 h-5 text-text-secondary transform transition-transform duration-200" 
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq2-content" class="hidden px-4 pb-4">
                        <p class="text-sm text-text-secondary leading-relaxed">
                            In case of emergency: 1) Ensure immediate safety of all personnel, 2) Call emergency services (911) if needed, 3) Contact the safety hotline at 1-800-SAFETY-1, 4) Follow your site's emergency evacuation procedures, 5) Report the incident through the app once the situation is secure. Never delay emergency response to complete paperwork.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="card">
                    <button class="faq-toggle w-full p-4 text-left flex items-center justify-between hover:bg-surface-secondary transition-colors duration-200" 
                            onclick="toggleFAQ('faq3')">
                        <span class="font-medium text-text-primary">How can I track my submitted reports?</span>
                        <svg id="faq3-icon" class="w-5 h-5 text-text-secondary transform transition-transform duration-200" 
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq3-content" class="hidden px-4 pb-4">
                        <p class="text-sm text-text-secondary leading-relaxed">
                            You can track all your submitted reports by going to the "History" tab. Here you'll see a complete list of your reports with their current status (Pending, In Review, or Closed), submission dates, and report IDs. You can also filter reports by status or date range to find specific submissions quickly.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="card">
                    <button class="faq-toggle w-full p-4 text-left flex items-center justify-between hover:bg-surface-secondary transition-colors duration-200" 
                            onclick="toggleFAQ('faq4')">
                        <span class="font-medium text-text-primary">Can I save a report as draft?</span>
                        <svg id="faq4-icon" class="w-5 h-5 text-text-secondary transform transition-transform duration-200" 
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq4-content" class="hidden px-4 pb-4">
                        <p class="text-sm text-text-secondary leading-relaxed">
                            Yes, you can save any report as a draft by clicking the "Save as Draft" button in the incident report form. Draft reports are automatically saved to your device's local storage and can be accessed later to complete and submit. This is useful when you need to gather additional information or photos before finalizing the report.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 5 -->
                <div class="card">
                    <button class="faq-toggle w-full p-4 text-left flex items-center justify-between hover:bg-surface-secondary transition-colors duration-200" 
                            onclick="toggleFAQ('faq5')">
                        <span class="font-medium text-text-primary">How do I manage my team's safety status?</span>
                        <svg id="faq5-icon" class="w-5 h-5 text-text-secondary transform transition-transform duration-200" 
                             fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq5-content" class="hidden px-4 pb-4">
                        <p class="text-sm text-text-secondary leading-relaxed">
                            Use the "Team" tab to view all team members, their current duty status (On Duty/Off Duty), and roles. You can mark attendance, assign safety tasks, and monitor team compliance. Each team member's safety training status and certifications are also visible to help you ensure proper qualifications for assigned tasks.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-surface border-t border-border safe-bottom">
        <div class="max-w-md mx-auto px-4">
            <div class="flex items-center justify-around py-2">
                <!-- Dashboard -->
                <a href="safety_dashboard.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="text-xs font-medium">Dashboard</span>
                </a>

                <!-- Report -->
                <a href="incident_report_form.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Report</span>
                </a>

                <!-- History -->
                <a href="report_history.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="text-xs font-medium">History</span>
                </a>

                <!-- Team -->
                <a href="team_management.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Team</span>
                </a>

                <!-- Help -->
                <a href="help_and_support.html" class="nav-item active flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="text-xs font-medium">Help</span>
                </a>

                <!-- Profile -->
                <a href="supervisor_profile.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span class="text-xs font-medium">Profile</span>
                </a>
            </div>
        </div>
    </nav>

    <script>
        // FAQ Toggle Functionality
        function toggleFAQ(faqId) {
            const content = document.getElementById(faqId + '-content');
            const icon = document.getElementById(faqId + '-icon');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
            } else {
                content.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        }

        // Contact Form Submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const supervisorName = formData.get('supervisorName');
            const issueType = formData.get('issueType');
            const message = formData.get('message');
            
            // Basic validation
            if (!supervisorName || !issueType || !message) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Simulate form submission
            setTimeout(() => {
                document.getElementById('successMessage').classList.remove('hidden');
                this.reset();
                document.getElementById('supervisorName').value = 'Mike Johnson'; // Reset to default
                
                // Hide success message after 5 seconds
                setTimeout(() => {
                    document.getElementById('successMessage').classList.add('hidden');
                }, 5000);
            }, 500);
        });

        // Live Chat Function
        function startLiveChat() {
            alert('Live chat feature would open here. Currently available 6 AM - 10 PM EST.\n\nFor immediate assistance, please call our safety hotline at 1-800-SAFETY-1.');
        }

        // Form validation with real-time feedback
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            const inputs = form.querySelectorAll('input, select, textarea');
            
            inputs.forEach(input => {
                input.addEventListener('blur', function() {
                    if (this.hasAttribute('required') && !this.value.trim()) {
                        this.classList.add('border-error');
                        this.classList.remove('border-border');
                    } else {
                        this.classList.remove('border-error');
                        this.classList.add('border-border');
                    }
                });
                
                input.addEventListener('input', function() {
                    if (this.classList.contains('border-error') && this.value.trim()) {
                        this.classList.remove('border-error');
                        this.classList.add('border-border');
                    }
                });
            });

            // Store current timestamp for session tracking
            localStorage.setItem('lastHelpVisit', new Date().toISOString());
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>