<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Management Interface - HO Safety Management</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fhosafety6270back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
    <!-- Fixed Header -->
    <header class="bg-surface shadow-sm border-b border-border fixed top-0 left-0 right-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-3">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-primary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-semibold text-text-primary">HO Safety Management</h1>
                        <p class="text-sm text-text-secondary">Team Management</p>
                    </div>
                </div>

                <!-- Header Actions -->
                <div class="flex items-center space-x-4">
                    <!-- Quick Actions -->
                    <div class="hidden md:flex items-center space-x-2">
                        <button onclick="showAddSupervisorModal()" 
                                class="btn-primary text-sm px-3 py-2" title="Add Supervisor (Ctrl+N)">
                            <svg class="w-4 h-4 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Add Supervisor
                        </button>
                        <button onclick="exportTeamData()" 
                                class="btn-secondary text-sm px-3 py-2" title="Export Data (Ctrl+E)">
                            <svg class="w-4 h-4 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Export
                        </button>
                    </div>

                    <!-- Notifications -->
                    <div class="relative">
                        <button class="relative p-2 text-text-secondary hover:text-text-primary transition-micro rounded-lg hover:bg-gray-100">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
                            </svg>
                            <span class="absolute -top-1 -right-1 bg-error text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                        </button>
                    </div>

                    <!-- User Role Indicator -->
                    <div class="flex items-center space-x-2">
                        <div class="hidden sm:block text-right">
                            <p class="text-sm font-medium text-text-primary">Sarah Johnson</p>
                            <p class="text-xs text-text-secondary">Safety Manager</p>
                        </div>
                        <img src="https://images.unsplash.com/photo-1592831383329-23d79a212006" 
                             alt="Sarah Johnson profile picture" 
                             class="h-8 w-8 rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-16 pb-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <!-- Page Title and Sync Status -->
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h2 class="text-2xl font-semibold text-text-primary">Team Management</h2>
                    <p class="text-text-secondary mt-1">Supervisor coordination and performance tracking</p>
                </div>
                <div class="flex items-center space-x-2 text-sm text-success">
                    <div class="w-2 h-2 bg-success rounded-full animate-pulse"></div>
                    <span>HR sync active</span>
                    <span class="text-text-secondary">â€¢ Last update: 5 min ago</span>
                </div>
            </div>

            <!-- Team Overview Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Total Supervisors Card -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-text-secondary text-sm font-medium">Total Supervisors</p>
                            <p class="text-3xl font-bold text-text-primary mt-1">18</p>
                            <div class="flex items-center mt-2">
                                <svg class="w-4 h-4 text-success mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                                </svg>
                                <span class="text-success text-sm font-medium">+2 this month</span>
                            </div>
                        </div>
                        <div class="bg-primary-100 p-3 rounded-lg">
                            <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Active Supervisors Card -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-text-secondary text-sm font-medium">Active Now</p>
                            <p class="text-3xl font-bold text-text-primary mt-1">16</p>
                            <div class="flex items-center mt-2">
                                <div class="w-2 h-2 bg-success rounded-full mr-2"></div>
                                <span class="text-success text-sm font-medium">89% online</span>
                            </div>
                        </div>
                        <div class="bg-success-100 p-3 rounded-lg">
                            <svg class="w-8 h-8 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Overdue Tasks Card -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-text-secondary text-sm font-medium">Overdue Tasks</p>
                            <p class="text-3xl font-bold text-warning mt-1">4</p>
                            <div class="flex items-center mt-2">
                                <svg class="w-4 h-4 text-warning mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <span class="text-warning text-sm font-medium">Needs attention</span>
                            </div>
                        </div>
                        <div class="bg-warning-100 p-3 rounded-lg">
                            <svg class="w-8 h-8 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Performance Score Card -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-text-secondary text-sm font-medium">Avg Performance</p>
                            <p class="text-3xl font-bold text-text-primary mt-1">4.2</p>
                            <div class="flex items-center mt-2">
                                <div class="flex text-warning">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                    </svg>
                                </div>
                                <span class="text-text-secondary text-sm font-medium ml-1">out of 5.0</span>
                            </div>
                        </div>
                        <div class="bg-accent-100 p-3 rounded-lg">
                            <svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filters and Search -->
            <div class="card p-6 mb-6">
                <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0">
                    <!-- Search and Filters -->
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 flex-1">
                        <!-- Search Input -->
                        <div class="relative flex-1 max-w-md">
                            <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <input type="text" id="searchInput" placeholder="Search supervisors..." 
                                   class="w-full pl-10 pr-4 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        </div>

                        <!-- Site Filter -->
                        <select id="siteFilter" class="px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">All Sites</option>
                            <option value="Site A-12">Site A-12</option>
                            <option value="Site B-07">Site B-07</option>
                            <option value="Site C-03">Site C-03</option>
                            <option value="Site D-15">Site D-15</option>
                        </select>

                        <!-- Performance Filter -->
                        <select id="performanceFilter" class="px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">All Performance</option>
                            <option value="excellent">Excellent (4.5+)</option>
                            <option value="good">Good (3.5-4.4)</option>
                            <option value="average">Average (2.5-3.4)</option>
                            <option value="needs-improvement">Needs Improvement (<2.5)</option>
                        </select>

                        <!-- Status Filter -->
                        <select id="statusFilter" class="px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="offline">Offline</option>
                            <option value="overdue">Overdue Tasks</option>
                        </select>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex items-center space-x-2">
                        <button onclick="clearFilters()" class="text-text-secondary hover:text-text-primary text-sm font-medium">
                            Clear Filters
                        </button>
                        <button onclick="toggleBulkMode()" id="bulkModeBtn" class="btn-secondary text-sm px-3 py-2">
                            <svg class="w-4 h-4 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                            </svg>
                            Bulk Actions
                        </button>
                    </div>
                </div>

                <!-- Bulk Actions Bar (Hidden by default) -->
                <div id="bulkActionsBar" class="hidden mt-4 pt-4 border-t border-border">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-text-secondary">
                                <span id="selectedCount">0</span> supervisors selected
                            </span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="bulkReassign()" class="btn-secondary text-sm px-3 py-2">
                                Reassign Sites
                            </button>
                            <button onclick="bulkTraining()" class="btn-primary text-sm px-3 py-2">
                                Schedule Training
                            </button>
                            <button onclick="bulkCommunication()" class="btn-accent text-sm px-3 py-2 bg-accent text-white hover:bg-accent-700">
                                Send Message
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Supervisors Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="supervisorsGrid">
                <!-- Supervisor Card 1 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site A-12" data-performance="excellent" data-status="active">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1580863651276-3a1669b2e65a" 
                                     alt="Michael Rodriguez profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">Michael Rodriguez</h3>
                                <p class="text-sm text-text-secondary">Senior Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="michael-rodriguez">
                            <button onclick="editSupervisor('michael-rodriguez')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">m.rodriguez@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 123-4567</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-primary-100 text-primary text-xs">Site A-12</span>
                        </div>
                        <p class="text-xs text-text-secondary">Manufacturing Complex - North Wing</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">12</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success">4.8</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('michael-rodriguez')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('michael-rodriguez')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>

                <!-- Supervisor Card 2 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site B-07" data-performance="good" data-status="active">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1710604885283-b598ca251936" 
                                     alt="Sarah Chen profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">Sarah Chen</h3>
                                <p class="text-sm text-text-secondary">Safety Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="sarah-chen">
                            <button onclick="editSupervisor('sarah-chen')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">s.chen@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 234-5678</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-secondary-100 text-secondary text-xs">Site B-07</span>
                        </div>
                        <p class="text-xs text-text-secondary">Warehouse Distribution Center</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">8</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success">4.2</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('sarah-chen')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('sarah-chen')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>

                <!-- Supervisor Card 3 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site C-03" data-performance="average" data-status="overdue">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1724718543723-76a159863d20" 
                                     alt="David Thompson profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-warning rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">David Thompson</h3>
                                <p class="text-sm text-text-secondary">Safety Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <span class="status-indicator status-warning text-xs">OVERDUE</span>
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="david-thompson">
                            <button onclick="editSupervisor('david-thompson')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">d.thompson@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 345-6789</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-accent-100 text-accent text-xs">Site C-03</span>
                        </div>
                        <p class="text-xs text-text-secondary">Chemical Processing Plant</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">15</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-warning">3.1</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('david-thompson')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('david-thompson')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>

                <!-- Supervisor Card 4 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site D-15" data-performance="good" data-status="offline">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1577220225994-85313d6a09d9" 
                                     alt="Lisa Martinez profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gray-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">Lisa Martinez</h3>
                                <p class="text-sm text-text-secondary">Safety Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <span class="status-indicator bg-gray-100 text-gray-600 text-xs">OFFLINE</span>
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="lisa-martinez">
                            <button onclick="editSupervisor('lisa-martinez')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">l.martinez@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 456-7890</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-success-100 text-success text-xs">Site D-15</span>
                        </div>
                        <p class="text-xs text-text-secondary">Office Complex - East Building</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">6</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success">4.0</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('lisa-martinez')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('lisa-martinez')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>

                <!-- Supervisor Card 5 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site A-12" data-performance="excellent" data-status="active">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1536852361934-180718884035" 
                                     alt="James Wilson profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">James Wilson</h3>
                                <p class="text-sm text-text-secondary">Lead Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="james-wilson">
                            <button onclick="editSupervisor('james-wilson')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">j.wilson@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 567-8901</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-primary-100 text-primary text-xs">Site A-12</span>
                        </div>
                        <p class="text-xs text-text-secondary">Manufacturing Complex - South Wing</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">9</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success">4.9</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('james-wilson')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('james-wilson')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>

                <!-- Supervisor Card 6 -->
                <div class="card p-6 hover:shadow-card-hover transition-smooth supervisor-card" data-site="Site B-07" data-performance="good" data-status="active">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1702346249859-34db7962e153" 
                                     alt="Emma Davis profile picture" 
                                     class="h-12 w-12 rounded-full object-cover"
                                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-white"></div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-text-primary">Emma Davis</h3>
                                <p class="text-sm text-text-secondary">Safety Supervisor</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <input type="checkbox" class="bulk-checkbox hidden" data-supervisor="emma-davis">
                            <button onclick="editSupervisor('emma-davis')" class="text-text-secondary hover:text-primary transition-micro">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="space-y-2 mb-4">
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-text-secondary">e.davis@company.com</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <svg class="w-4 h-4 text-text-secondary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-text-secondary">+1 (555) 678-9012</span>
                        </div>
                    </div>

                    <!-- Site Assignment -->
                    <div class="mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-text-primary">Assigned Site</span>
                            <span class="status-indicator bg-secondary-100 text-secondary text-xs">Site B-07</span>
                        </div>
                        <p class="text-xs text-text-secondary">Warehouse Distribution Center - Loading Dock</p>
                    </div>

                    <!-- Performance Metrics -->
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-text-primary">11</p>
                            <p class="text-xs text-text-secondary">Active Reports</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success">4.3</p>
                            <p class="text-xs text-text-secondary">Performance</p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="contactSupervisor('emma-davis')" class="flex-1 btn-primary text-sm py-2">
                            Contact
                        </button>
                        <button onclick="viewReports('emma-davis')" class="flex-1 btn-secondary text-sm py-2">
                            View Reports
                        </button>
                    </div>
                </div>
            </div>

            <!-- Load More Button -->
            <div class="text-center mt-8">
                <button onclick="loadMoreSupervisors()" class="btn-secondary px-6 py-3">
                    <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    Load More Supervisors
                </button>
            </div>
        </div>
    </main>

    <!-- Add Supervisor Modal -->
    <div id="addSupervisorModal" class="fixed inset-0 bg-black bg-opacity-50 z-60 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-surface rounded-lg shadow-modal w-full max-w-md animate-scale-in">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-text-primary">Add New Supervisor</h3>
                        <button onclick="hideAddSupervisorModal()" class="text-text-secondary hover:text-text-primary">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>

                    <form id="addSupervisorForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-1">Full Name</label>
                            <input type="text" id="supervisorName" required 
                                   class="w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-1">Email</label>
                            <input type="email" id="supervisorEmail" required 
                                   class="w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-1">Phone</label>
                            <input type="tel" id="supervisorPhone" required 
                                   class="w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-1">Assigned Site</label>
                            <select id="supervisorSite" required 
                                    class="w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                                <option value="">Select Site</option>
                                <option value="Site A-12">Site A-12 - Manufacturing Complex</option>
                                <option value="Site B-07">Site B-07 - Warehouse Distribution</option>
                                <option value="Site C-03">Site C-03 - Chemical Processing</option>
                                <option value="Site D-15">Site D-15 - Office Complex</option>
                            </select>
                        </div>

                        <div class="flex space-x-3 pt-4">
                            <button type="button" onclick="hideAddSupervisorModal()" 
                                    class="flex-1 btn-secondary py-2">
                                Cancel
                            </button>
                            <button type="submit" class="flex-1 btn-primary py-2">
                                Add Supervisor
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-surface border-t border-border z-40">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-around h-16">
                <a href="ho_safety_dashboard.html" class="flex flex-col items-center space-y-1 text-text-secondary hover:text-primary transition-micro">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    <span class="text-xs font-medium">Dashboard</span>
                </a>
                <a href="safety_reports_management.html" class="flex flex-col items-center space-y-1 text-text-secondary hover:text-primary transition-micro">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <span class="text-xs font-medium">Reports</span>
                </a>
                <a href="team_management_interface.html" class="flex flex-col items-center space-y-1 text-primary">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                    <span class="text-xs font-medium">Teams</span>
                </a>
                <a href="alert_broadcasting_system.html" class="flex flex-col items-center space-y-1 text-text-secondary hover:text-primary transition-micro relative">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
                    </svg>
                    <span class="absolute -top-1 -right-1 bg-error text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                    <span class="text-xs font-medium">Alerts</span>
                </a>
                <a href="profile_management_center.html" class="flex flex-col items-center space-y-1 text-text-secondary hover:text-primary transition-micro">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    <span class="text-xs font-medium">Profile</span>
                </a>
            </div>
        </div>
    </nav>

    <script>
        // Global variables
        let bulkModeActive = false;
        let selectedSupervisors = new Set();

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey) {
                switch(e.key) {
                    case 'n':
                        e.preventDefault();
                        showAddSupervisorModal();
                        break;
                    case 'e':
                        e.preventDefault();
                        exportTeamData();
                        break;
                }
            }
        });

        // Search and filter functionality
        document.getElementById('searchInput').addEventListener('input', filterSupervisors);
        document.getElementById('siteFilter').addEventListener('change', filterSupervisors);
        document.getElementById('performanceFilter').addEventListener('change', filterSupervisors);
        document.getElementById('statusFilter').addEventListener('change', filterSupervisors);

        function filterSupervisors() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const siteFilter = document.getElementById('siteFilter').value;
            const performanceFilter = document.getElementById('performanceFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;

            const cards = document.querySelectorAll('.supervisor-card');

            cards.forEach(card => {
                const name = card.querySelector('h3').textContent.toLowerCase();
                const email = card.querySelector('.text-text-secondary').textContent.toLowerCase();
                const site = card.dataset.site;
                const performance = card.dataset.performance;
                const status = card.dataset.status;

                let showCard = true;

                // Search filter
                if (searchTerm && !name.includes(searchTerm) && !email.includes(searchTerm)) {
                    showCard = false;
                }

                // Site filter
                if (siteFilter && site !== siteFilter) {
                    showCard = false;
                }

                // Performance filter
                if (performanceFilter) {
                    const performanceMatch = {
                        'excellent': performance === 'excellent',
                        'good': performance === 'good',
                        'average': performance === 'average',
                        'needs-improvement': performance === 'needs-improvement'
                    };
                    if (!performanceMatch[performanceFilter]) {
                        showCard = false;
                    }
                }

                // Status filter
                if (statusFilter && status !== statusFilter) {
                    showCard = false;
                }

                card.style.display = showCard ? 'block' : 'none';
            });
        }

        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('siteFilter').value = '';
            document.getElementById('performanceFilter').value = '';
            document.getElementById('statusFilter').value = '';
            filterSupervisors();
        }

        // Bulk operations
        function toggleBulkMode() {
            bulkModeActive = !bulkModeActive;
            const bulkBtn = document.getElementById('bulkModeBtn');
            const bulkBar = document.getElementById('bulkActionsBar');
            const checkboxes = document.querySelectorAll('.bulk-checkbox');

            if (bulkModeActive) {
                bulkBtn.textContent = 'Exit Bulk Mode';
                bulkBtn.classList.remove('btn-secondary');
                bulkBtn.classList.add('btn-primary');
                bulkBar.classList.remove('hidden');
                checkboxes.forEach(cb => cb.classList.remove('hidden'));
            } else {
                bulkBtn.innerHTML = `
                    <svg class="w-4 h-4 mr-1 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                    Bulk Actions
                `;
                bulkBtn.classList.remove('btn-primary');
                bulkBtn.classList.add('btn-secondary');
                bulkBar.classList.add('hidden');
                checkboxes.forEach(cb => {
                    cb.classList.add('hidden');
                    cb.checked = false;
                });
                selectedSupervisors.clear();
                updateSelectedCount();
            }
        }

        // Handle checkbox changes
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('bulk-checkbox')) {
                const supervisorId = e.target.dataset.supervisor;
                if (e.target.checked) {
                    selectedSupervisors.add(supervisorId);
                } else {
                    selectedSupervisors.delete(supervisorId);
                }
                updateSelectedCount();
            }
        });

        function updateSelectedCount() {
            document.getElementById('selectedCount').textContent = selectedSupervisors.size;
        }

        // Bulk operations
        function bulkReassign() {
            if (selectedSupervisors.size === 0) {
                alert('Please select supervisors to reassign.');
                return;
            }
            alert(`Reassigning ${selectedSupervisors.size} supervisors to new sites...`);
        }

        function bulkTraining() {
            if (selectedSupervisors.size === 0) {
                alert('Please select supervisors for training.');
                return;
            }
            alert(`Scheduling training for ${selectedSupervisors.size} supervisors...`);
        }

        function bulkCommunication() {
            if (selectedSupervisors.size === 0) {
                alert('Please select supervisors to message.');
                return;
            }
            alert(`Sending message to ${selectedSupervisors.size} supervisors...`);
        }

        // Modal functions
        function showAddSupervisorModal() {
            document.getElementById('addSupervisorModal').classList.remove('hidden');
        }

        function hideAddSupervisorModal() {
            document.getElementById('addSupervisorModal').classList.add('hidden');
            document.getElementById('addSupervisorForm').reset();
        }

        // Form submission
        document.getElementById('addSupervisorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('supervisorName').value;
            const email = document.getElementById('supervisorEmail').value;
            const phone = document.getElementById('supervisorPhone').value;
            const site = document.getElementById('supervisorSite').value;

            // Simulate adding supervisor
            alert(`Successfully added ${name} as supervisor for ${site}`);
            hideAddSupervisorModal();
        });

        // Individual supervisor actions
        function editSupervisor(supervisorId) {
            alert(`Editing supervisor: ${supervisorId}`);
        }

        function contactSupervisor(supervisorId) {
            alert(`Contacting supervisor: ${supervisorId}`);
        }

        function viewReports(supervisorId) {
            window.location.href = 'safety_reports_management.html';
        }

        function exportTeamData() {
            alert('Exporting team data to CSV...');
        }

        function loadMoreSupervisors() {
            alert('Loading more supervisors...');
        }

        // Add fade-in animation to cards
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.supervisor-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.3s ease-out';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Close modal when clicking outside
        document.getElementById('addSupervisorModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideAddSupervisorModal();
            }
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>