<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Dashboard - Safety Supervisor</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fsafetysup3087back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
    <!-- Header Section -->
    <header class="bg-surface border-b border-border sticky top-0 z-50">
        <div class="max-w-md mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-text-primary">Safety Dashboard</h1>
                        <p class="text-xs text-text-secondary">Site Alpha - Zone 1</p>
                    </div>
                </div>
                
                <!-- Notification Bell -->
                <div class="relative">
                    <button class="relative p-2 text-text-secondary hover:text-text-primary transition-colors duration-200 min-touch-target">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                        </svg>
                        <span class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium">3</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-md mx-auto px-4 py-6 pb-24">
        <!-- Welcome Section -->
        <section class="mb-6">
            <div class="bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg p-4 border border-primary-100">
                <div class="flex items-center space-x-3">
                    <img src="https://images.unsplash.com/photo-1688841747582-41097036109d" 
                         alt="Safety supervisor profile photo" 
                         class="w-12 h-12 rounded-full object-cover border-2 border-primary-200"
                         onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                    <div>
                        <h2 class="text-base font-semibold text-text-primary">Good Morning, Mike Johnson</h2>
                        <p class="text-sm text-text-secondary">Safety Supervisor â€¢ ID: SS-2024-001</p>
                        <p class="text-xs text-primary-600 font-medium">Last updated: Oct 21, 2025 12:57 PM</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summary Cards -->
        <section class="mb-8">
            <h3 class="text-lg font-semibold text-text-primary mb-4">Safety Overview</h3>
            <div class="grid grid-cols-1 gap-4">
                <!-- Total Reports Card -->
                <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer" onclick="window.location.href='report_history.html'">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-text-secondary font-medium">Total Reports</p>
                            <p class="text-2xl font-bold text-text-primary mt-1">47</p>
                            <p class="text-xs text-success-600 mt-1 flex items-center">
                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                +12% this month
                            </p>
                        </div>
                        <div class="w-12 h-12 bg-primary-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 102 0V3h4v1a1 1 0 102 0V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm8 8a1 1 0 100-2 1 1 0 000 2zm-3-1a1 1 0 11-2 0 1 1 0 012 0zm-1-4a1 1 0 100-2 1 1 0 000 2zm3-1a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Pending Actions Card -->
                <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer" onclick="window.location.href='report_history.html'">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-text-secondary font-medium">Pending Actions</p>
                            <p class="text-2xl font-bold text-warning-600 mt-1">8</p>
                            <p class="text-xs text-text-secondary mt-1">Requires attention</p>
                        </div>
                        <div class="w-12 h-12 bg-warning-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-warning-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Closed Issues Card -->
                <div class="card p-4 hover:shadow-modal transition-all duration-200 cursor-pointer" onclick="window.location.href='report_history.html'">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-text-secondary font-medium">Closed Issues</p>
                            <p class="text-2xl font-bold text-success-600 mt-1">39</p>
                            <p class="text-xs text-success-600 mt-1 flex items-center">
                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                83% resolution rate
                            </p>
                        </div>
                        <div class="w-12 h-12 bg-success-50 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-success-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="mb-8">
            <h3 class="text-lg font-semibold text-text-primary mb-4">Quick Actions</h3>
            <div class="grid grid-cols-1 gap-3">
                <!-- Report Incident Button -->
                <a href="incident_report_form.html" class="btn-primary flex items-center justify-center space-x-3 py-4 rounded-lg shadow-card hover:shadow-modal transition-all duration-200">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="font-semibold">Report Incident</span>
                </a>

                <!-- View History Button -->
                <a href="report_history.html" class="btn-outline flex items-center justify-center space-x-3 py-4 rounded-lg border-2 hover:bg-surface-secondary transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="font-semibold">View History</span>
                </a>
            </div>
        </section>

        <!-- Recent Activity -->
        <section class="mb-6">
            <h3 class="text-lg font-semibold text-text-primary mb-4">Recent Activity</h3>
            <div class="space-y-3">
                <div class="card p-4">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-warning-50 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-warning-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-text-primary">Near Miss Report Submitted</p>
                            <p class="text-xs text-text-secondary mt-1">Equipment Area B - Slip hazard identified</p>
                            <p class="text-xs text-text-tertiary mt-1">2 hours ago</p>
                        </div>
                        <span class="px-2 py-1 bg-warning-50 text-warning-600 text-xs font-medium rounded-full">Pending</span>
                    </div>
                </div>

                <div class="card p-4">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-success-50 rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-success-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-text-primary">Safety Training Completed</p>
                            <p class="text-xs text-text-secondary mt-1">Team Alpha - 8 members certified</p>
                            <p class="text-xs text-text-tertiary mt-1">1 day ago</p>
                        </div>
                        <span class="px-2 py-1 bg-success-50 text-success-600 text-xs font-medium rounded-full">Closed</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-surface border-t border-border safe-bottom">
        <div class="max-w-md mx-auto px-4">
            <div class="flex items-center justify-around py-2">
                <!-- Dashboard -->
                <a href="safety_dashboard.html" class="nav-item active flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
                    </svg>
                    <span class="text-xs font-medium">Dashboard</span>
                </a>

                <!-- Report -->
                <a href="incident_report_form.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Report</span>
                </a>

                <!-- History -->
                <a href="report_history.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="text-xs font-medium">History</span>
                </a>

                <!-- Team -->
                <a href="team_management.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Team</span>
                </a>

                <!-- Help -->
                <a href="help_and_support.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Help</span>
                </a>

                <!-- Profile -->
                <a href="supervisor_profile.html" class="nav-item flex-col space-y-1 min-touch-target">
                    <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span class="text-xs font-medium">Profile</span>
                </a>
            </div>
        </div>
    </nav>

    <script>
        // Simple notification interaction
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers for interactive elements
            const notificationBell = document.querySelector('button[class*="relative p-2"]');
            if (notificationBell) {
                notificationBell.addEventListener('click', function() {
                    alert('You have 3 pending notifications:\nâ€¢ Near miss report requires review\nâ€¢ Safety training due for Team Beta\nâ€¢ Equipment inspection overdue');
                });
            }

            // Add hover effects for cards
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Store current timestamp for session tracking
            localStorage.setItem('lastDashboardVisit', new Date().toISOString());
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>